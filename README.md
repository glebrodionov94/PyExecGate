# README

## FastAPI-—Å–µ—Ä–≤–∏—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–µ—Ç–æ–¥–æ–≤ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø–æ–¥–Ω–∏–º–∞–µ—Ç HTTP API –ø–æ–≤–µ—Ä—Ö –ø–∞–ø–∫–∏ `scripts/` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤–∞—à–∏—Ö Python-—Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏ –≤–∏–¥–∞ `script_name.method_name`.
–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º ‚Äî FastAPI, –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π –ø–æ `importlib`, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `lru_cache`, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –∏ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º—ë–Ω. –ï—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ (—á–µ—Ä–µ–∑ `Content-Disposition`) –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üöÄ –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –≤–Ω–µ—à–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ HTTP (`POST /run`)
* üîí –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Å–∫—Ä–∏–ø—Ç–∞ (–ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ)
* üß† –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (`lru_cache`)
* ‚è±Ô∏è –¢–∞–π–º–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 300 —Å–µ–∫, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ query)
* üìé –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–π –æ—Ç–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ –∏–∑ –º–µ—Ç–æ–¥–æ–≤ (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ)
* üßµ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—ë—Ä—Ç–∫–æ–π
* ü™µ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫
* üß© –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `scripts/your_script.py`

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.10+
* pip / venv
* (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/glebrodionov94/scriptrunner.git
cd scriptrunner
python -m venv .venv
. .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt  # –µ—Å–ª–∏ –µ—Å—Ç—å
# –∏–ª–∏:
pip install fastapi uvicorn pydantic
```

### –ó–∞–ø—É—Å–∫

```bash
python3 main.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

* Swagger UI: `http://localhost:8000/docs`
* ReDoc: `http://localhost:8000/redoc`

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –≠–Ω–¥–ø–æ–∏–Ω—Ç

`POST /run?timeout=<1..300>`

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON)**

```json
{
  "method": "script_name.method_name",
  "params": { "key": "value", "another": 123 }
}
```

* `method` ‚Äî —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ `"–∏–º—è_—Å–∫—Ä–∏–ø—Ç–∞.–∏–º—è_–º–µ—Ç–æ–¥–∞"`.
* `params` ‚Äî —Å–ª–æ–≤–∞—Ä—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—ã –∫–∞–∫ `method(**params)`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–º–∏–Ω–∏–º—É–º)

```
.
‚îú‚îÄ‚îÄ main.py
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ __init__.py          # (–Ω–µ –æ–±—è–∑–∞—Ç.)
    ‚îú‚îÄ‚îÄ hello.py
    ‚îî‚îÄ‚îÄ report.py
```

### –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ (–≤–æ–∑–≤—Ä–∞—Ç JSON)

`scripts/hello.py`:

```python
def greet(name: str, times: int = 1):
    return {"message": " ".join([f"Hello, {name}!" for _ in range(times)])}
```

–í—ã–∑–æ–≤:

```bash
curl -X POST http://localhost:8000/run \
  -H "Content-Type: application/json" \
  -d '{"method":"hello.greet","params":{"name":"World","times":2}}'
```

–û—Ç–≤–µ—Ç:

```json
{"message":"Hello, World! Hello, World!"}
```

### –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ (–≤–æ–∑–≤—Ä–∞—Ç —Ñ–∞–π–ª–∞)

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å–ª–æ–≤–∞—Ä—å** —Å –∫–ª—é—á–æ–º `content` (—Ç–∏–ø `bytes`), —Å–µ—Ä–≤–∏—Å –æ—Ç–¥–∞—Å—Ç —Ñ–∞–π–ª –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ:

`scripts/report.py`:

```python
def build_csv():
    data = b"id,name\n1,Alice\n2,Bob\n"
    return {
        "content": data,                            # –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ bytes
        "filename": "users.csv",                    # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é file.bin)
        "media_type": "text/csv"                    # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é application/octet-stream)
    }
```

–í—ã–∑–æ–≤:

```bash
curl -X POST http://localhost:8000/run \
  -H "Content-Type: application/json" \
  -d '{"method":"report.build_csv","params":{}}' \
  -OJ
```

–ó–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Disposition` –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `users.csv`.

---

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

* `SCRIPTS_DIR = "scripts"` ‚Äî –ø–∞–ø–∫–∞ —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏.
* `SCRIPT_TIMEOUT = 300` ‚Äî —Ç–∞–π–º–∞—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å–µ–∫). –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å query-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `timeout` –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `1..300`.

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –ò–º–µ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å—Ç—Ä–æ–≥–æ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è: —Ç–æ–ª—å–∫–æ `[a-zA-Z0-9_]`.
  –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–æ–ø—ã—Ç–æ–∫ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏, —Ç–æ—á–∫–∏, —Å–ª—ç—à–∏ –∏ —Ç. –ø.
* –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –∏–∑ `SCRIPTS_DIR`.
* –ú–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ ‚Äî 404.
* –ö–æ–¥ –≤–∞—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ Python. **–ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–¥.** –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–æ–ª–∏—Ä—É–π—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ/—Å–µ—Ä–≤–∏—Å–µ.

---

## –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è –∫—ç—à–∏—Ä—É–µ—Ç—Å—è: `@lru_cache(maxsize=32)`.
* –ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `asyncio.to_thread(...)` —Å `asyncio.wait_for(...)` ‚Äî –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ–±—ë—Ä—Ç–∫–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º.
* –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏–π:

  * –õ—é–±—ã–µ JSON-—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Üí –æ–±—ã—á–Ω—ã–π JSON-–æ—Ç–≤–µ—Ç.
  * –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `{ "content": <bytes>, "filename"?, "media_type"? }` ‚Üí –æ—Ç–≤–µ—Ç —Å —Ñ–∞–π–ª–æ–º.

---

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

* `400 Bad Request`

  * –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `method` (–æ–∂–∏–¥–∞–µ—Ç—Å—è `script.method`).
  * –û—à–∏–±–∫–∞ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–≤–µ—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã `TypeError`).
  * –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞.
* `404 Not Found`

  * –°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.
  * –ú–µ—Ç–æ–¥ –≤ —Å–∫—Ä–∏–ø—Ç–µ –Ω–µ –Ω–∞–π–¥–µ–Ω.
* `408 Request Timeout`

  * –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å—Ç–µ–∫–ª–æ.
* `500 Internal Server Error`

  * –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞.
  * –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞.
  * –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ `content` –Ω–µ `bytes`).

–ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø–æ–ª–µ `detail`.

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –∏–¥—É—Ç –≤ stdout —Å —É—Ä–æ–≤–Ω–µ–º `INFO`:

* –ó–∞–≥—Ä—É–∑–∫–∞/–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
* –£—Å–ø–µ—à–Ω—ã–µ –≤—ã–∑–æ–≤—ã
* –û—à–∏–±–∫–∏ –∏ —Ç–∞–π–º–∞—É—Ç—ã
* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ —Å–∫—Ä—ã—Ç–∏—è ‚Äî –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `params`)

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç/—É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `main.py`.

---

## –°–æ–≤–µ—Ç—ã –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤

* –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å **–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`**params` –º–∞–ø–ø–∏—Ç—Å—è –ø–æ –∫–ª—é—á–∞–º).
* –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
* –î–ª—è —Ñ–∞–π–ª–æ–≤ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ `bytes` –≤ `content`. –ï—Å–ª–∏ —É –≤–∞—Å —Å—Ç—Ä–æ–∫–∞, –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ: `content = my_str.encode("utf-8")`.
* –î–æ–ª–≥–∏–µ –∑–∞–¥–∞—á–∏ ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏ —Ç–∞–π–º–∞—É—Ç—ã/–ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –ü–æ–º–Ω–∏—Ç–µ –ø—Ä–æ –æ–±—â–∏–π –ª–∏–º–∏—Ç `timeout`.

---

## Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

`Dockerfile` (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä):

```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY . /app
RUN pip install --no-cache-dir fastapi uvicorn
EXPOSE 8000
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

```bash
docker build -t scripts-runner .
docker run --rm -p 8000:8000 -v "$PWD/scripts:/app/scripts" scripts-runner
```

---

## –¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### HTTPie

```bash
http POST :8000/run method=hello.greet params:='{"name":"Dev","times":3}'
```

### JavaScript (fetch)

```js
await fetch("/run", {
  method: "POST",
  headers: {"Content-Type": "application/json"},
  body: JSON.stringify({
    method: "hello.greet",
    params: { name: "JS", times: 2 }
  })
}).then(r => r.json());
```

### Python (requests)

```python
import requests

resp = requests.post(
    "http://localhost:8000/run",
    json={"method": "hello.greet", "params": {"name": "Python", "times": 2}},
    timeout=10,
)
print(resp.status_code, resp.json())
```

---

## FAQ

**–ú–æ–∂–Ω–æ –ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ—Ä—É—Ç–∏–Ω—ã (`async def`) –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤?**
–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º **–ø–æ—Ç–æ–∫–µ** —á–µ—Ä–µ–∑ `to_thread`, –ø–æ—ç—Ç–æ–º—É –æ–∂–∏–¥–∞–µ—Ç—Å—è –æ–±—ã—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `async def`, –ø—Ä–∏–¥—ë—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∏—Å–ø–µ—Ç—á–µ—Ä.

**–ö–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –ø–∞–ø–∫—É —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ç–∞–π–º–∞—É—Ç?**
–ò–∑–º–µ–Ω–∏—Ç–µ `SCRIPTS_DIR` –∏ `SCRIPT_TIMEOUT` –≤ `main.py`, –ª–∏–±–æ –ø—Ä–æ–∫–∏–Ω—å—Ç–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∏—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

**–ü–æ—á–µ–º—É –º–æ–π —Ñ–∞–π–ª –Ω–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è?**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ —Å–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–æ–º `content` —Ç–∏–ø–∞ `bytes`. –î–ª—è —Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `encode()`. –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `media_type`.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

Issues –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî —á–µ—Ä–µ–∑ GitHub Issues –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.